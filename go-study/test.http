// api mock REST Client

### 定义一个变量

@testurl = http://httpbin.org/cookies/set?name=value

GET  {{testurl}}

###
@pingHttp = http://localhost:8081/ping

GET {{pingHttp}} HTTP/1.1

###
@testHttp = http://localhost:8081/api


curl -H "Content-Type:application/json" -X POST --data '{"query":"维多利亚州","page":1,"limit":10,"order":"desc"}' http://127.0.0.1:5678/api/query

###

// 测试api
GET {{testHttp}}/test HTTP/1.1

###

// 动态路由
GET {{testHttp}}/uri/003 HTTP/1.1

###

// 动态路由 + url 传参
GET {{testHttp}}/uri/003?user=aaaa&pwd=11111 HTTP/1.1

###

// post请求 form格式
POST  {{testHttp}}/path_for_form HTTP/1.1
content-type: application/x-www-form-urlencoded
# content-type: application/json

user="111111111110"&id="2"&password="admin123"
###

###

// post请求 json格式
POST  {{testHttp}}/path_for_json HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json

{
    "id":1,
    "user":"111111111110",
    "password":"admin123"
}

###
// post请求 json格式
# POST  {{testHttp}}/path_for_json2 HTTP/1.1
POST  {{testHttp}}/path_for_json2 HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json

{
    "id":1,
    "name":"111111111110",
    "password":"admin123"
}

###
# 上传文件
# @token = {{loginAdmin.response.body.data.token}}
POST   {{testHttp}}/upload HTTP/1.1
# content-type: application/x-www-form-urlencoded
# content-type: application/json
# content-type: multipart/form-data
# Authorization: Bearer {{token}}
# 设置 Content-Type 和 boundary
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

# 非文件类型的form data, 参数需要空一行
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="name"

title1
# 文件类型等描述信息
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="001.png"
Content-Type: image/png

# 需要上传的文件的路径
< ./001.png
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###
# 上传多个文件
POST   {{testHttp}}/uploads HTTP/1.1
# 设置 Content-Type 和 boundary
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

# 非文件类型的form data, 参数需要空一行
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="name"

title1
# 文件类型等描述信息
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="002.jpg"
Content-Type: image/jpeg

# 需要上传的文件的路径
< ./002.jpg

# 文件类型等描述信息
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="003.jpg"
Content-Type: image/jpeg

# 需要上传的文件的路径
< ./003.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

 # 用户登录
#  @name loginAdmin
POST   {{testHttp}}/login HTTP/1.1
# POST http://localhost:8081/api/login HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json

# telephone=11111111111
# &password=admin123
{"telephone":"111111111110",
"password":"admin123"}

###

@token = {{loginAdmin.response.body.data.token}}

GET   {{testHttp}}/test HTTP/1.1
###

POST {{testHttp}}/test HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json
 Authorization: Bearer {{token}}

{
"telephone":"111111111110",
"password":"admin123",
"username":"admin",
"role":1
}
###

POST {{testHttp}}/user/ HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json
 Authorization: Bearer {{token}}

{
"telephone":"111111111110",
"password":"admin123",
"username":"ad",
# "username":"admin",
"role":1
}

###

# 用户列表查询

# GET   {{testHttp}}/user/list HTTP/1.1
 GET   {{testHttp}}/user/list?name=admin HTTP/1.1
# GET   {{testHttp}}/user/list?name=admin HTTP/1.1
# GET   {{testHttp}}/user/list?telephone=11111111111&name=admin HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjIwLCJleHAiOjE2NTIxNzc4MzYsImlhdCI6MTY1MjA5MTQzNiwiaXNzIjoiYmxhY2t1bmljb3JuIiwic3ViIjoidXNlciB0b2tlbiJ9.pCpi2OxI9I932sRercThTFRnrI4Wntfvw6yE3IJuKzM

###

# 删除用户
DELETE  {{testHttp}}/user/14 HTTP/1.1
content-type: application/json

###

# 更新用户
PUT  {{testHttp}}/user/13 HTTP/1.1
content-type: application/json
Authorization: bearer Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEsImV4cCI6MTYzNjQyNTI2OSwiaWF0IjoxNjM1ODIwNDY5LCJpc3MiOiJvY2VhbmxlYXJuLnRlY2giLCJzdWIiOiJ1c2VyIHRva2VuIn0.NpkbXBS2BbKAZJVaR79YRAATgYqJllYiV8Be-0HmioQ

{
    "telephone":"111111111118",
    "password":"admin1",
    "username":"admin1",
    "role":1
}

### 

# 新增分类
POST {{testHttp}}/category/ HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json

{
"name":"admin1"
}

###

# 分类列表查询
# GET   {{testHttp}}/category/list HTTP/1.1
GET   {{testHttp}}/category/list HTTP/1.1
# GET   {{testHttp}}/user/?name=admin HTTP/1.1
content-type: application/json

###

# 分类查询 by id
# GET   {{testHttp}}/category/id HTTP/1.1
GET   {{testHttp}}/category/2 HTTP/1.1

content-type: application/json

###

# 删除分类
DELETE  {{testHttp}}/category/14 HTTP/1.1
content-type: application/json

###

# 更新分类

PUT  {{testHttp}}/category/16 HTTP/1.1
content-type: application/json
# Authorization: bearer Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEsImV4cCI6MTYzNjQyNTI2OSwiaWF0IjoxNjM1ODIwNDY5LCJpc3MiOiJvY2VhbmxlYXJuLnRlY2giLCJzdWIiOiJ1c2VyIHRva2VuIn0.NpkbXBS2BbKAZJVaR79YRAATgYqJllYiV8Be-0HmioQ

{
    "name":"aaa"
}
###


# 新增文章
POST {{testHttp}}/article/ HTTP/1.1
# content-type: application/x-www-form-urlencoded
content-type: application/json

{
"title":"title5",
"user_id":1,
"content":"ceshi2",
"category_id":2
}

###

#  文章列表查询

 GET   {{testHttp}}/article/list?category_id=2 HTTP/1.1
# GET   {{testHttp}}/article/list HTTP/1.1
# GET   {{testHttp}}/article/?name=admin HTTP/1.1
Authorization: Bearer {{token}}
content-type: application/json

###


#  根据Id查询文章详情查询
 GET   {{testHttp}}/article/023763d9-b2ae-4229-b135-f1aab8b1e588 HTTP/1.1

content-type: application/json

###




# 删除文章
DELETE  {{testHttp}}/article/ed1d8f1d-878c-4f96-9be7-42e991e22bef HTTP/1.1
content-type: application/json

###

# 更新文章
PUT  {{testHttp}}/article/023763d9-b2ae-4229-b135-f1aab8b1e588 HTTP/1.1
content-type: application/json
Authorization: bearer Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEsImV4cCI6MTYzNjQyNTI2OSwiaWF0IjoxNjM1ODIwNDY5LCJpc3MiOiJvY2VhbmxlYXJuLnRlY2giLCJzdWIiOiJ1c2VyIHRva2VuIn0.NpkbXBS2BbKAZJVaR79YRAATgYqJllYiV8Be-0HmioQ

{
"title":"title004",
"user_id":1,
"content":"ceshi2",
"category_id":1
}

###

# 注册用户
POST http://localhost:8081/api/auth/register HTTP/1.1
content-type: application/x-www-form-urlencoded
# content-type: application/json

telephone=11111111119
&password=admin123
&name=admin



###

# 上传文件
# @token = {{loginAdmin.response.body.data.token}}
POST   {{testHttp}}/upload HTTP/1.1
# content-type: application/x-www-form-urlencoded
# content-type: application/json
content-type: multipart/form-data
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="text"

title
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="image"; filename="1.png"
Content-Type: image/image/jpeg

< ./001.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###
POST {{testHttp}}/upload
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="text"

title
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="image"; filename="1.png"
Content-Type: image/png

< ./1.png
------WebKitFormBoundary7MA4YWxkTrZu0gW--


###
# 获取登录用户自身详细信息
GET   http://localhost:8081/api/auth/info/ HTTP/1.1
content-type: application/json
Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEsImV4cCI6MTYzNjQyNTI2OSwiaWF0IjoxNjM1ODIwNDY5LCJpc3MiOiJvY2VhbmxlYXJuLnRlY2giLCJzdWIiOiJ1c2VyIHRva2VuIn0.NpkbXBS2BbKAZJVaR79YRAATgYqJllYiV8Be-0HmioQ
###



POST http://localhost:8081/categories/ HTTP/1.1
content-type: application/json

{
    # "id": 31,
    "name": "aaa"
}
###

PUT http://localhost:8081/categories/1 HTTP/1.1
content-type: application/json

{
    # "id": 31,
    "name": "ceshi2"
}
###

GET   http://localhost:8081/categories/1 HTTP/1.1
content-type: application/json

{
    "id": 6,
    "username": "test0006"
}
###

DELETE  http://localhost:8081/categories/1 HTTP/1.1
content-type: application/json

###

POST http://localhost:8081/posts/ HTTP/1.1
content-type: application/json
Authorization: bearer Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEsImV4cCI6MTYzNjQyNTI2OSwiaWF0IjoxNjM1ODIwNDY5LCJpc3MiOiJvY2VhbmxlYXJuLnRlY2giLCJzdWIiOiJ1c2VyIHRva2VuIn0.NpkbXBS2BbKAZJVaR79YRAATgYqJllYiV8Be-0HmioQ

{
    "category_id": 1,
    "title": "aaa",
    "head_img":"image",
    "content":"cccc"
}

###
GET   http://localhost:8082/visit-log/ HTTP/1.1
content-type: application/json
###

### 模拟浏览器请求一个网页
GET https://httpbin.org/
Accept: text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6
Connection: keep-alive
Cookie: BIDUPSID=CF844808573053195E4D5760343A0DE0; PSTM=1553656042; delPer=0; BD_HOME=0; BD_UPN=12314753; BD_CK_SAM=1; PSINO=5; H_PS_645EC=6b64FQkUWvWCrKmgQDniAqN96VXzdqVpuyfqvfkw4NzIO0Y4DAo2FNn4hlI; BAIDUID=E4E13D8CA9AC39C0994B17987F621780:FG=1; H_PS_PSSID=1464_21082_28721_28557_28697_28585_28638_26350_28604_28606
Host: www.baidu.com
Referer: https://www.baidu.com/
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36
X-Requested-With: XMLHttpRequest
###

### 发送JSON数据
POST https://httpbin.org/post
Content-Type: application/json
//这里必须有一空行

{
  "query": {"a":1,"b":2}
}
###

### 发送form-urlencoded数据

POST https://httpbin.org/post
Content-Type: application/x-www-form-urlencoded
//这里必须有一空行

a=1&b=2
###


